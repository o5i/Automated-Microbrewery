<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
   <TITLE>Modbus Slave C++ Library: MbusSlaveServer Class Reference</TITLE>
   <LINK href="style.css" rel="stylesheet" type="text/css">
</head>
<body>
   <table width="100%"><tr>
   <td valign=bottom><b><font color=black size=4>
      FieldTalk<small><sup>&#153;</sup></small> Modbus<small><sup>&reg;</sup></small> Slave Library<br>
      C++ Editions</font></b></td>
   <td valign=bottom align=right>
      <a href="http://www.focus-sw.com">
      <img src="focuslogo50x200.png" border=0 size="50%"
       alt="FOCUS Software Engineering" ></a></td>
   </tr></table>
   <hr size=4 noshade color=gray>

<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>MbusSlaveServer Class Reference</h1>Inheritance diagram for MbusSlaveServer:<p><center><img src="classMbusSlaveServer__inherit__graph.gif" border="0" usemap="#MbusSlaveServer__inherit__map" alt="Inheritance graph"></center>
<map name="MbusSlaveServer__inherit__map">
<area href="classMbusSerialSlaveProtocol.html" shape="rect" coords="7,559,201,943" alt="">
<area href="classMbusTcpSlaveProtocol.html" shape="rect" coords="225,551,449,951" alt="">
</map>
Collaboration diagram for MbusSlaveServer:<p><center><img src="classMbusSlaveServer__coll__graph.gif" border="0" usemap="#MbusSlaveServer__coll__map" alt="Collaboration graph"></center>
<map name="MbusSlaveServer__coll__map">
<area href="classMbusDataTableInterface.html" shape="rect" coords="7,7,207,263" alt="">
</map>
<a href="classMbusSlaveServer-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Base class which implements the Modbus&reg; server engine. 
<p>
This class realises the server engine. The server engines processes Modbus messages, parses the function codes and upon receipt of a valid master query it calls Data Provider methods to exchange data with the user application. For a more detailed description which Modbus data and control functions have been implemented in the server engine see section <a class="el" href="group__mbusslave.html">Server Functions common to all Protocol Flavours</a>.<p>
<dl compact><dt><b>See also:</b></dt><dd>MbusSlaveServer <p>
<a class="el" href="group__mbusslave.html">Server Functions common to all Protocol Flavours</a> </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Server Management Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mbusslave.html#ga0">addDataTable</a> (int slaveAddr, <a class="el" href="classMbusDataTableInterface.html">MbusDataTableInterface</a> *dataTablePtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Associates a protocol object with a Data Provider and a slave address.  <a href="group__mbusslave.html#ga0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mbusslave.html#ga8">serverLoop</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Modbus slave server loop.  <a href="group__mbusslave.html#ga8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mbusslave.html#ga9">shutdownServer</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shuts down the Modbus Server.  <a href="group__mbusslave.html#ga9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mbusslave.html#ga10">isStarted</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns if server has been started up.  <a href="group__mbusslave.html#ga10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mbusslave.html#ga11">getConnectionStatus</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Associates a protocol object with a Data Provider and a slave address.  <a href="group__mbusslave.html#ga11"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protocol Configuration</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mbusslave.html#ga1">setTimeout</a> (long timeOut)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configures master transmit time-out supervision.  <a href="group__mbusslave.html#ga1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mbusslave.html#ga4">getTimeout</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the master time-out supervision value.  <a href="group__mbusslave.html#ga4"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Transmission Statistic Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mbusslave.html#ga2">getTotalCounter</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns how often a message transfer has been executed.  <a href="group__mbusslave.html#ga2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga5" doxytag="MbusSlaveServer::resetTotalCounter"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mbusslave.html#ga5">resetTotalCounter</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets total message transfer counter. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mbusslave.html#ga6">getSuccessCounter</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns how often a message transfer was successful.  <a href="group__mbusslave.html#ga6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga7" doxytag="MbusSlaveServer::resetSuccessCounter"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mbusslave.html#ga7">resetSuccessCounter</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets successful message transfer counter. <br></td></tr>
<tr><td colspan="2"><br><h2>Utility Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mbusslave.html#ga3">getPackageVersion</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the package version number.  <a href="group__mbusslave.html#ga3"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMbusSlaveServer.html#MbusSlaveServera0">~MbusSlaveServer</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#MbusSlaveServera0"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMbusSlaveServer.html#MbusSlaveServerb0">MbusSlaveServer</a> (<a class="el" href="classMbusDataTableInterface.html">MbusDataTableInterface</a> *dataTablePtr=NULL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs a MbusSlaveServer object and associates it with a Data Provider.  <a href="#MbusSlaveServerb0"></a><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="MbusSlaveServerb0" doxytag="MbusSlaveServer::MbusSlaveServer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classMbusSlaveServer.html">MbusSlaveServer</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMbusDataTableInterface.html">MbusDataTableInterface</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dataTablePtr</em> = <code>NULL</code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructs a MbusSlaveServer object and associates it with a Data Provider. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dataTablePtr</em>&nbsp;</td><td>Modbus data table pointer. Must point to a Data Provider object derived from the <a class="el" href="classMbusDataTableInterface.html">MbusDataTableInterface</a> class. The Data Provider is the interface between your application data and the Modbus network. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="MbusSlaveServera0" doxytag="MbusSlaveServer::~MbusSlaveServer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">~<a class="el" href="classMbusSlaveServer.html">MbusSlaveServer</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor. 
<p>
Shuts down server and releases any resources.     </td>
  </tr>
</table>
   <hr>
   <table width="100%" cellspacing=0 cellpadding=5 border=0>
      <tr>
         <td class=footer valign=top>
         Copyright &copy; 2002-2006 <a href="http://www.focus-sw.com">
         FOCUS Software Engineering Pty Ltd</a>, Australia.
         All rights reserved.
         <br>
         Please see the <a href="notices.html">Notices</a> page for trademark notices.
         <br>
         Last updated: 20 Oct 2006
     </tr>
   </table>

</body>
</html>

