.TH "Protocol Errors and Exceptions" 3 "20 Oct 2006" "Modbus Slave C++ Library" \" -*- nroff -*-
.ad l
.nh
.SH NAME
Protocol Errors and Exceptions \- 
.PP
.SS "Fatal API Errors"
Errors of this class typically indicate a programming mistake. 
.in +1c
.ti -1c
.RI "#define \fBFTALK_ILLEGAL_ARGUMENT_ERROR\fP   1"
.br
.RI "\fIIllegal argument error. \fP"
.ti -1c
.RI "#define \fBFTALK_ILLEGAL_STATE_ERROR\fP   2"
.br
.RI "\fIIllegal state error. \fP"
.ti -1c
.RI "#define \fBFTALK_EVALUATION_EXPIRED\fP   3"
.br
.RI "\fIEvaluation expired. \fP"
.ti -1c
.RI "#define \fBFTALK_NO_DATA_TABLE_ERROR\fP   4"
.br
.RI "\fINo data table configured. \fP"
.ti -1c
.RI "#define \fBFTALK_ILLEGAL_SLAVE_ADDRESS\fP   5"
.br
.RI "\fISlave address 0 illegal for serial protocols. \fP"
.in -1c
.SS "Fatal I/O Errors"
Errors of this class signal a problem in conjunction with the I/O system.
.PP
If errors of this class occur, the operation must be aborted and the protocol closed. 
.in +1c
.ti -1c
.RI "#define \fBFTALK_IO_ERROR_CLASS\fP   64"
.br
.RI "\fII/O error class. \fP"
.ti -1c
.RI "#define \fBFTALK_IO_ERROR\fP   65"
.br
.RI "\fII/O error. \fP"
.ti -1c
.RI "#define \fBFTALK_OPEN_ERR\fP   66"
.br
.RI "\fIPort or socket open error. \fP"
.ti -1c
.RI "#define \fBFTALK_PORT_ALREADY_OPEN\fP   67"
.br
.RI "\fISerial port already open. \fP"
.ti -1c
.RI "#define \fBFTALK_TCPIP_CONNECT_ERR\fP   68"
.br
.RI "\fITCP/IP connection error. \fP"
.ti -1c
.RI "#define \fBFTALK_CONNECTION_WAS_CLOSED\fP   69"
.br
.RI "\fIRemote peer closed TCP/IP connection. \fP"
.ti -1c
.RI "#define \fBFTALK_SOCKET_LIB_ERROR\fP   70"
.br
.RI "\fISocket library error. \fP"
.ti -1c
.RI "#define \fBFTALK_PORT_ALREADY_BOUND\fP   71"
.br
.RI "\fITCP port already bound. \fP"
.ti -1c
.RI "#define \fBFTALK_LISTEN_FAILED\fP   72"
.br
.RI "\fIListen failed. \fP"
.ti -1c
.RI "#define \fBFTALK_FILEDES_EXCEEDED\fP   73"
.br
.RI "\fIFile descriptors exceeded. \fP"
.ti -1c
.RI "#define \fBFTALK_PORT_NO_ACCESS\fP   74"
.br
.RI "\fINo permission to access serial port or TCP port. \fP"
.ti -1c
.RI "#define \fBFTALK_PORT_NOT_AVAIL\fP   75"
.br
.RI "\fITCP port not available. \fP"
.in -1c
.SS "Communication Errors"
Errors of this class indicate either communication faults or Modbus exceptions reported by the slave device. 
.in +1c
.ti -1c
.RI "#define \fBFTALK_BUS_PROTOCOL_ERROR_CLASS\fP   128"
.br
.RI "\fIFieldbus protocol error class. \fP"
.ti -1c
.RI "#define \fBFTALK_CHECKSUM_ERROR\fP   129"
.br
.RI "\fIChecksum error. \fP"
.ti -1c
.RI "#define \fBFTALK_INVALID_FRAME_ERROR\fP   130"
.br
.RI "\fIInvalid frame error. \fP"
.ti -1c
.RI "#define \fBFTALK_INVALID_REPLY_ERROR\fP   131"
.br
.RI "\fIInvalid reply error. \fP"
.ti -1c
.RI "#define \fBFTALK_REPLY_TIMEOUT_ERROR\fP   132"
.br
.RI "\fIReply time-out. \fP"
.ti -1c
.RI "#define \fBFTALK_SEND_TIMEOUT_ERROR\fP   133"
.br
.RI "\fISend time-out. \fP"
.ti -1c
.RI "#define \fBFTALK_MBUS_EXCEPTION_RESPONSE\fP   160"
.br
.RI "\fIModbus\*{(R)\*}  exception response. \fP"
.ti -1c
.RI "#define \fBFTALK_MBUS_ILLEGAL_FUNCTION_RESPONSE\fP   161"
.br
.RI "\fIIllegal Function exception response. \fP"
.ti -1c
.RI "#define \fBFTALK_MBUS_ILLEGAL_ADDRESS_RESPONSE\fP   162"
.br
.RI "\fIIllegal Data Address exception response. \fP"
.ti -1c
.RI "#define \fBFTALK_MBUS_ILLEGAL_VALUE_RESPONSE\fP   163"
.br
.RI "\fIIllegal Data Value exception response. \fP"
.ti -1c
.RI "#define \fBFTALK_MBUS_SLAVE_FAILURE_RESPONSE\fP   164"
.br
.RI "\fISlave Device Failure exception response. \fP"
.in -1c
.SS "Defines"

.in +1c
.ti -1c
.RI "#define \fBFTALK_SUCCESS\fP   0"
.br
.RI "\fIOperation was successful. \fP"
.in -1c
.SS "Functions"

.in +1c
.ti -1c
.RI "TCHAR * \fBgetBusProtocolErrorText\fP (int errCode)"
.br
.RI "\fIReturns an error text string for a given error code. \fP"
.in -1c
.SH "Define Documentation"
.PP 
.SS "#define FTALK_SUCCESS   0"
.PP
Operation was successful. 
.PP
This return codes indicates no error. 
.SS "#define FTALK_ILLEGAL_ARGUMENT_ERROR   1"
.PP
Illegal argument error. 
.PP
A parameter passed to the function returning this error code is invalid or out of range. 
.SS "#define FTALK_ILLEGAL_STATE_ERROR   2"
.PP
Illegal state error. 
.PP
The function is called in a wrong state. This return code is returned by all functions if the protocol has not been opened succesfully yet. 
.SS "#define FTALK_EVALUATION_EXPIRED   3"
.PP
Evaluation expired. 
.PP
This version of the library is a function limited evaluation version and has now expired. 
.SS "#define FTALK_NO_DATA_TABLE_ERROR   4"
.PP
No data table configured. 
.PP
The slave has been started without adding a data table. A data table must be added by either calling addDataTable or passing it as a constructor argument. 
.SS "#define FTALK_ILLEGAL_SLAVE_ADDRESS   5"
.PP
Slave address 0 illegal for serial protocols. 
.PP
A slave address or unit ID of 0 is used as broadcast address for ASCII and RTU protocol and therefor illegal. 
.SS "#define FTALK_IO_ERROR_CLASS   64"
.PP
I/O error class. 
.PP
Errors of this class signal a problem in conjunction with the I/O system. 
.SS "#define FTALK_IO_ERROR   65"
.PP
I/O error. 
.PP
The underlaying I/O system reported an error. 
.SS "#define FTALK_OPEN_ERR   66"
.PP
Port or socket open error. 
.PP
The TCP/IP socket or the serial port could not be opened. In case of a serial port it indicates that the serial port does not exist on the system. 
.SS "#define FTALK_PORT_ALREADY_OPEN   67"
.PP
Serial port already open. 
.PP
The serial port defined for the open operation is already opened by another application. 
.SS "#define FTALK_TCPIP_CONNECT_ERR   68"
.PP
TCP/IP connection error. 
.PP
Signals that the TCP/IP connection could not be established. Typically this error occurs when a host does not exist on the network or the IP address or host name is wrong. The remote host must also listen on the appropriate port. 
.SS "#define FTALK_CONNECTION_WAS_CLOSED   69"
.PP
Remote peer closed TCP/IP connection. 
.PP
Signals that the TCP/IP connection was closed by the remote peer or is broken. 
.SS "#define FTALK_SOCKET_LIB_ERROR   70"
.PP
Socket library error. 
.PP
The TCP/IP socket library (e.g. WINSOCK) could not be loaded or the DLL is missing or not installed. 
.SS "#define FTALK_PORT_ALREADY_BOUND   71"
.PP
TCP port already bound. 
.PP
Indicates that the specified TCP port cannot be bound. The port might already be taken by another application or hasn't been released yet by the TCP/IP stack for re-use. 
.SS "#define FTALK_LISTEN_FAILED   72"
.PP
Listen failed. 
.PP
The listen operation on the specified TCP port failed.. 
.SS "#define FTALK_FILEDES_EXCEEDED   73"
.PP
File descriptors exceeded. 
.PP
Maximum number of usable file descriptors exceeded. 
.SS "#define FTALK_PORT_NO_ACCESS   74"
.PP
No permission to access serial port or TCP port. 
.PP
You don't have permission to access the serial port or TCP port. Run the program as root. If the error is related to a serial port, change the access privilege. If it is related to TCP/IP use TCP port number which is outside the IPPORT_RESERVED range. 
.SS "#define FTALK_PORT_NOT_AVAIL   75"
.PP
TCP port not available. 
.PP
The specified TCP port is not available on this machine. 
.SS "#define FTALK_BUS_PROTOCOL_ERROR_CLASS   128"
.PP
Fieldbus protocol error class. 
.PP
Signals that a fieldbus protocol related error has occured. This class is the general class of errors produced by failed or interrupted data transfer functions. It is also produced when receiving invalid frames or exception responses. 
.SS "#define FTALK_CHECKSUM_ERROR   129"
.PP
Checksum error. 
.PP
Signals that the checksum of a received frame is invalid. A poor data link typically causes this error. 
.SS "#define FTALK_INVALID_FRAME_ERROR   130"
.PP
Invalid frame error. 
.PP
Signals that a received frame does not correspond either by structure or content to the specification or does not match a previously sent query frame. A poor data link typically causes this error. 
.SS "#define FTALK_INVALID_REPLY_ERROR   131"
.PP
Invalid reply error. 
.PP
Signals that a received reply does not correspond to the specification. 
.SS "#define FTALK_REPLY_TIMEOUT_ERROR   132"
.PP
Reply time-out. 
.PP
Signals that a fieldbus data transfer timed out. This can occur if the slave device does not reply in time or does not reply at all. A wrong unit adress will also cause this error. In some occasions this exception is also produced if the characters received don't constitute a complete frame. 
.SS "#define FTALK_SEND_TIMEOUT_ERROR   133"
.PP
Send time-out. 
.PP
Signals that a fieldbus data send timed out. This can only occur if the handshake lines are not properly set. 
.SS "#define FTALK_MBUS_EXCEPTION_RESPONSE   160"
.PP
Modbus\*{(R)\*}  exception response. 
.PP
Signals that a Modbus exception response was received. Exception responses are sent by a slave device instead of a normal response message if it received the query message correctly but cannot handle the query. This error usually occurs if a master queried an invalid or non-existing data address or if the master used a Modbus function, which is not supported by the slave device. 
.SS "#define FTALK_MBUS_ILLEGAL_FUNCTION_RESPONSE   161"
.PP
Illegal Function exception response. 
.PP
Signals that an Illegal Function exception response (code 01) was received. This exception response is sent by a slave device instead of a normal response message if a master sent a Modbus function, which is not supported by the slave device. 
.SS "#define FTALK_MBUS_ILLEGAL_ADDRESS_RESPONSE   162"
.PP
Illegal Data Address exception response. 
.PP
Signals that an Illegal Data Address exception response (code 02) was received. This exception response is sent by a slave device instead of a normal response message if a master queried an invalid or non-existing data address. 
.SS "#define FTALK_MBUS_ILLEGAL_VALUE_RESPONSE   163"
.PP
Illegal Data Value exception response. 
.PP
Signals that a Illegal Value exception response was (code 03) received. This exception response is sent by a slave device instead of a normal response message if a master sent a data value, which is not an allowable value for the slave device. 
.SS "#define FTALK_MBUS_SLAVE_FAILURE_RESPONSE   164"
.PP
Slave Device Failure exception response. 
.PP
Signals that a Slave Device Failure exception response (code 04) was received. This exception response is sent by a slave device instead of a normal response message if an unrecoverable error occured while processing the requested action. This response is also sent if the request would generate a response whose size exceeds the allowable data size. 
.SH "Function Documentation"
.PP 
.SS "TCHAR* getBusProtocolErrorText (int errCode)"
.PP
Returns an error text string for a given error code. 
.PP
\fBParameters:\fP
.RS 4
\fIerrCode\fP FieldTalk error code 
.RE
.PP
\fBReturns:\fP
.RS 4
Error text string 
.RE
.PP

