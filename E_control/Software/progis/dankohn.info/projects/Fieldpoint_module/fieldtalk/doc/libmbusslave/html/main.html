<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
   <TITLE>Modbus Slave C++ Library: General Description</TITLE>
   <LINK href="style.css" rel="stylesheet" type="text/css">
</head>
<body>
   <table width="100%"><tr>
   <td valign=bottom><b><font color=black size=4>
      FieldTalk<small><sup>&#153;</sup></small> Modbus<small><sup>&reg;</sup></small> Slave Library<br>
      C++ Editions</font></b></td>
   <td valign=bottom align=right>
      <a href="http://www.focus-sw.com">
      <img src="focuslogo50x200.png" border=0 size="50%"
       alt="FOCUS Software Engineering" ></a></td>
   </tr></table>
   <hr size=4 noshade color=gray>

<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindexHL" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>General Description </h1>
<p>
<h2><a class="anchor" name="introduction">
Introduction</a></h2>
This <em>FieldTalk<small><sup>&#153;</sup></small> </em> Modbus Slave C++ Library allows you to incorporate Modbus slave functionality into your device or application.<p>
Typical applications are Modbus based Supervisory Control and Data Acquisition Systems (SCADA), Modbus data concentrators, Modbus gateways, User Interfaces and Factory Information Systems (FIS).<p>
Features:<p>
<ul>
<li>Robust design suitable for real-time and industrial applications</li><li>Full implementation of Bit Access and 16 Bits Access Function Codes as well as a subset of the most commonly used Diagnostics Function Codes</li><li>Standard Modbus bit and 16-bit integer data types (coils, discretes &amp; registers)</li><li>Support of Broadcasting</li><li>Master time-out supervision</li><li>Failure and transmission counters</li><li>Supports single or multiple slave addresses</li><li>Scalable: you can use serial-line Modbus protocols only or MODBUS/TCP or all of them</li></ul>
<h2><a class="anchor" name="structure">
Library Structure</a></h2>
The library is organised in two categories of classes.<p>
One category implements the Server Engines for each Modbus slave protocol flavour. There is one Server Engine class for each protocol flavour and a common Server Engine base class, which applies to all protocol flavours. Because the two serial protocols ASCII and RTU share some common code, an intermediate base class implements the functions specific to serial protocols.<p>
<div align="center">
<img src="mbusslave_inherit.gif" alt="mbusslave_inherit.gif">
</div>
<p>
<p>
The second category of classes is Data Providers classes. Data Provider classes represent the interface between the Server Engine and your application.<p>
<div align="center">
<img src="mbusslave_collab.gif" alt="mbusslave_collab.gif">
</div>
<p>
<p>
The base class <a class="el" href="classMbusSlaveServer.html">MbusSlaveServer</a> contains a protocol unspecific Server Engine and the protocol state machine. All protocol flavours inherit from this base class.<p>
The class <a class="el" href="classMbusAsciiSlaveProtocol.html">MbusAsciiSlaveProtocol</a> implements the Modbus ASCII protocol, the class <a class="el" href="classMbusRtuSlaveProtocol.html">MbusRtuSlaveProtocol</a> implements the Modbus RTU protocol and the class <a class="el" href="classMbusTcpSlaveProtocol.html">MbusTcpSlaveProtocol</a> implements the MODBUS/TCP protocol.<p>
Before a server can be used, a Data Provider has to be declared. A Data Provider is created by declaring a new class derived from <a class="el" href="classMbusDataTableInterface.html">MbusDataTableInterface</a>. The class <a class="el" href="classMbusDataTableInterface.html">MbusDataTableInterface</a> is the base class for a Data Provider and implements a set of default methods. An application specific Data Provider simply overrides selected default methods and the Modbus slave is ready.<p>
<div class="fragment"><pre class="fragment"><span class="keyword">class </span>MyMbusDataTable: <span class="keyword">public</span> <a class="code" href="classMbusDataTableInterface.html">MbusDataTableInterface</a>
{
   ... <span class="comment">// Application specific data interface</span>
} dataTable;
</pre></div><p>
In order to use one of the three slave protocols, the desired protocol flavour class has to be instantiated and associated with the Data Provider. The following example creates an RTU protocol and links a data table to slave address 20:<p>
<div class="fragment"><pre class="fragment"><a class="code" href="classMbusRtuSlaveProtocol.html">MbusRtuSlaveProtocol</a> mbusProtocol;
mbusProtocol.<a class="code" href="group__mbusslave.html#ga0">addDataTable</a>(20, &amp;dataTable);
</pre></div><p>
After a protocol object has been declared and started up the server loop has to be executed cyclically. The Modbus slave is ready to accept connections and to reply to master queries.<p>
<div class="fragment"><pre class="fragment"><span class="keywordflow">while</span> (1)
{
   mbusProtocol.<a class="code" href="classMbusRtuSlaveProtocol.html#MbusRtuSlaveProtocola4">serverLoop</a>();
}
</pre></div><h2><a class="anchor" name="overview">
Overview</a></h2>
<ul>
<li><a class="el" href="install.html">Installation and Source Code Compilation</a><ul>
<li><a class="el" href="install.html#unix_install">Linux, UNIX and QNX Systems: Unpacking and Compiling the Source</a></li><li><a class="el" href="install.html#win_install">Windows Systems: Unpacking and Compiling the Source</a></li><li><a class="el" href="install.html#platform_notes">Specific Platform Notes</a></li></ul>
</li><li><a class="el" href="linking.html">Linking your Applications against the Library</a><ul>
<li><a class="el" href="linking.html#unix_link">Linux, UNIX and QNX Systems: Compiling and Linking Applications</a></li><li><a class="el" href="linking.html#win_link">Windows Systems: Compiling and Linking Applications</a></li></ul>
</li><li><a class="el" href="modbus.html">What You should know about Modbus</a><ul>
<li><a class="el" href="modbus.html#mbusbackground">Some Background</a></li><li><a class="el" href="modbus.html#mbustechnical">Technical Information</a></li><li><a class="el" href="modbus.html#mbusfunctions">The Protocol Functions</a></li><li><a class="el" href="modbus.html#mbusaddressscheme">How Slave Devices are identified</a></li><li><a class="el" href="modbus.html#mbusregmodel">The Register Model and Data Tables</a></li><li><a class="el" href="modbus.html#mbusdatamodel">Data Encoding</a></li><li><a class="el" href="modbus.html#mbusregnumbers">Register and Discrete Numbering Scheme</a></li><li><a class="el" href="modbus.html#mbusasciiprotocol">The ASCII Protocol</a></li><li><a class="el" href="modbus.html#mbusrtuprotocol">The RTU Protocol</a></li><li><a class="el" href="modbus.html#mbustcpprotocol">The MODBUS/TCP Protocol</a></li></ul>
</li><li><a class="el" href="group__mbusslave.html">Server Functions common to all Protocol Flavours</a></li><li><a class="el" href="group__dataprovider.html">Data Provider</a></li><li><a class="el" href="group__mbusslaveserial.html">Serial Protocols</a></li><li><a class="el" href="group__mbusslavetcp.html">MODBUS/TCP Protocol</a></li><li><a class="el" href="integrate.html">How to integrate the Protocol in your Application</a></li><li><a class="el" href="examples.html">Examples</a></li><li><a class="el" href="design.html">Design Background</a></li><li><a class="el" href="license.html">License</a></li><li><a class="el" href="support.html">Support</a> </li></ul>
   <hr>
   <table width="100%" cellspacing=0 cellpadding=5 border=0>
      <tr>
         <td class=footer valign=top>
         Copyright &copy; 2002-2006 <a href="http://www.focus-sw.com">
         FOCUS Software Engineering Pty Ltd</a>, Australia.
         All rights reserved.
         <br>
         Please see the <a href="notices.html">Notices</a> page for trademark notices.
         <br>
         Last updated: 20 Oct 2006
     </tr>
   </table>

</body>
</html>

